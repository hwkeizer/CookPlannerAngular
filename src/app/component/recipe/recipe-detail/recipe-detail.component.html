<div *ngIf="recipe" class="container mt-2">
  <div class="row justify-content-center mb-3">
    <a class="btn btn-success bg-success m-2" role="button" routerLink='/recipe-list'>Naar overzicht</a>
    <a class="btn btn-success bg-success m-2" role="button" routerLink='/recipe-edit'>Recept wijzigen</a>
    <a *ngIf="!recipe.image" class="btn btn-success bg-success m-2" (click)="setEditImage()">Afbeelding toevoegen</a>
    <a *ngIf="recipe.image" class="btn btn-success bg-success m-2" (click)="setEditImage()">Afbeelding wijzigen</a>
    <a class="btn btn-danger bg-danger m-2" role="button" (click)="deleteRecipe(recipe)">Recept verwijderen</a>
  </div>
  <div class="row justify-content-center">
    <h1 class="text-dark display-5 mb-3">{{recipe.name}}</h1>
  </div>

  <div class="row justify-content-left">
    <div class="col-md-6">
      <table class="table table-bordered table-striped">
        <tbody>
          <tr>
            <td style="width: 20%;">Beschrijving:</td>
            <td>{{recipe.description}}</td>
          </tr>
          <tr>
            <td>CategorieÃ«n</td>
            <td>{{(concatTags())}}</td>
          </tr>
          <tr>
            <td>Recept type:</td>
            <td>{{recipe.recipeType}}</td>
          </tr>
          <tr>
            <td>Voorbereidingstijd:</td>
            <td>{{recipe.preparationTime}}</td>
          </tr>
          <tr>
            <td>Bereidingstijd:</td>
            <td>{{recipe.cookTime}}</td>
          </tr>
          <tr>
            <td>Aantal personen</td>
            <td>{{recipe.servings}}</td>
          </tr>
          <tr>
            <td>Waardering</td>
            <td>{{recipe.rating}}</td>
          </tr>
        </tbody>
      </table>
    </div>
    
    <div *ngIf="!editImage && recipe.image" class="col-md-6">
      <img [attr.src]="baseUrl + 'image/?name=' + recipe.image"  style=" max-height: 300px;">
    </div>

    <div *ngIf="editImage" class="col-md-6">
      <div>Selecteer een afbeelding uit de upload folder:</div>
      <div class="row">
        <div class="col-md-3" *ngFor="let image of imageUploadList">
            <img 
              class="m-2" 
              [attr.src]="baseUrl + 'image/upload-image/?name=' + image" 
              (click)="setNewImage(image, recipe.id)" 
              style=" max-height: 150px; max-width: 150px;">
        </div>
      </div>
    </div> 

  </div>    

  <div class="row">
    <div class="col-md-12">
      <table class="table table-bordered table-striped">
        <tbody>
          <tr>
            <td style="width: 20%;">Notities:</td>
            <td class="preserve-newlines">{{recipe.notes}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="row justify-content-left">
    <div class="col-md-6">
      <h3>Ingredienten</h3>
      <ingredients [ingredients]="recipe.ingredients"></ingredients>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <table class="table table-bordered table-striped">
        <tbody>
          <tr>
            <td style="width: 20%;">Voorbereiding:</td>
            <td class="preserve-newlines">{{recipe.preparations}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <table class="table table-bordered table-striped">
        <tbody>
          <tr>
            <td style="width: 20%;">Bereidingen:</td>
            <td class="preserve-newlines">{{recipe.directions}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>